# Multinational Trademark Search SPA

KR/US ìƒí‘œ ë°ì´í„°ë¥¼ ë¡œì»¬ JSONìœ¼ë¡œ ë¶ˆëŸ¬ì™€ ê²€ìƒ‰Â·í•„í„°Â·ì •ë ¬Â·ì¦ê²¨ì°¾ê¸°ë¥¼ ì œê³µí•˜ëŠ” Next.js App Router ê¸°ë°˜ SPAì…ë‹ˆë‹¤.

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

- **Node.js**: 18+ ê¶Œì¥
- **ì„¤ì¹˜**: `npm install`
- **ê°œë°œ ì„œë²„**: `npm run dev` (http://localhost:3000)
- **ë¹Œë“œ**: `npm run build` â†’ `npm start`
- **ë¦°íŠ¸**: `npm run lint` (Flat config, ESLint 9)

## ğŸ“¦ ì‚¬ìš© ìŠ¤íƒ

### í•µì‹¬ í”„ë ˆì„ì›Œí¬
- **Next.js 16** (App Router, Turbopack ê¸°ë³¸)
- **React 19**
- **TypeScript 5.9**

### ìŠ¤íƒ€ì¼ë§
- **Tailwind CSS 3.4**

### ìƒíƒœ ê´€ë¦¬ & ë°ì´í„° í˜ì¹­
- **TanStack Query 5** (ì„œë²„ ìƒíƒœ ê´€ë¦¬)
- **Zustand 5** (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬)
- **Zod 4** (ìŠ¤í‚¤ë§ˆ ê²€ì¦)

### ê°œë°œ ë„êµ¬
- **ESLint 9** (flat config)
- **TypeScript ESLint** (íƒ€ì… ì²´í¬)
- **ESM ëª¨ë“ˆ ì‹œìŠ¤í…œ** (`"type": "module"`)

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€ app/                    # Next.js App Router
â”‚  â”œâ”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚  â”œâ”€ page.tsx            # í™ˆ í˜ì´ì§€
â”‚  â”œâ”€ search/             # ê²€ìƒ‰ í˜ì´ì§€
â”‚  â”œâ”€ favorites/          # ì¦ê²¨ì°¾ê¸° í˜ì´ì§€
â”‚  â””â”€ trademark/[id]/     # ìƒí‘œ ìƒì„¸ í˜ì´ì§€
â”‚
â”œâ”€ pages/                  # í˜ì´ì§€ ì»´í¬ì§€ì…˜ ë ˆì´ì–´
â”‚  â”œâ”€ SearchPage/
â”‚  â”œâ”€ FavoritesPage/
â”‚  â””â”€ DetailPage/
â”‚
â”œâ”€ processes/              # ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ì¡°í•©
â”‚  â””â”€ trademark-search/
â”‚     â”œâ”€ ui/              # ê²€ìƒ‰ ë ˆì´ì•„ì›ƒ ë° ê²°ê³¼ íŒ¨ë„
â”‚     â””â”€ logic/            # í”„ë¡œì„¸ìŠ¤ ë¡œì§
â”‚
â”œâ”€ features/               # ë…ë¦½ ê¸°ëŠ¥ ëª¨ë“ˆ
â”‚  â”œâ”€ search/             # ê²€ìƒ‰ ê¸°ëŠ¥
â”‚  â”‚  â”œâ”€ lib/             # ê²€ìƒ‰ ë¡œì§ (ëª¨ë“ˆí™”)
â”‚  â”‚  â”‚  â”œâ”€ sanitizers/   # ê²€ìƒ‰ì–´ ì •ì œ
â”‚  â”‚  â”‚  â”œâ”€ normalizers/  # ê²€ìƒ‰ì–´ ì •ê·œí™”
â”‚  â”‚  â”‚  â”œâ”€ matchers/     # ê²€ìƒ‰ì–´ ë§¤ì¹­
â”‚  â”‚  â”‚  â”œâ”€ validators/   # ê²€ìƒ‰ì–´ ê²€ì¦
â”‚  â”‚  â”‚  â”œâ”€ profanity/    # ìš•ì„¤ í•„í„°ë§
â”‚  â”‚  â”‚  â”œâ”€ errors/       # ì—ëŸ¬ ì²˜ë¦¬
â”‚  â”‚  â”‚  â””â”€ cache/        # ì •ê·œí™” ìºì‹œ
â”‚  â”‚  â”œâ”€ model/           # ìƒíƒœ ê´€ë¦¬
â”‚  â”‚  â””â”€ ui/              # UI ì»´í¬ë„ŒíŠ¸
â”‚  â”œâ”€ country-switcher/   # êµ­ê°€ ì„ íƒ
â”‚  â”œâ”€ favorites/          # ì¦ê²¨ì°¾ê¸°
â”‚  â””â”€ sorting/            # ì •ë ¬
â”‚
â”œâ”€ entities/               # ë„ë©”ì¸ ì—”í‹°í‹°
â”‚  â””â”€ trademark/
â”‚     â”œâ”€ lib/             # ìƒí‘œ ì²˜ë¦¬ ë¡œì§
â”‚     â”‚  â”œâ”€ matchers/     # ë§¤ì¹­ ë¡œì§ ëª¨ë“ˆ
â”‚     â”‚  â”œâ”€ filters.ts    # í•„í„°ë§
â”‚     â”‚  â”œâ”€ optimized-filters.ts  # ìµœì í™”ëœ í•„í„°ë§
â”‚     â”‚  â”œâ”€ preprocessing.ts      # ê²€ìƒ‰ ìµœì í™” ì „ì²˜ë¦¬
â”‚     â”‚  â”œâ”€ indexing.ts           # ì¸ë±ìŠ¤ ê¸°ë°˜ ê²€ìƒ‰
â”‚     â”‚  â””â”€ parseKR.ts / parseUS.ts  # êµ­ê°€ë³„ íŒŒì‹±
â”‚     â”œâ”€ model/           # íƒ€ì… ì •ì˜
â”‚     â””â”€ ui/              # UI ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€ shared/                 # ê³µí†µ ëª¨ë“ˆ
â”‚  â”œâ”€ api/                 # API í´ë¼ì´ì–¸íŠ¸
â”‚  â”œâ”€ ui/                  # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚  â”œâ”€ utils/               # ìœ í‹¸ë¦¬í‹°
â”‚  â”‚  â”œâ”€ error-handler.ts  # ì—ëŸ¬ ì²˜ë¦¬ ìœ í‹¸
â”‚  â”‚  â”œâ”€ date-utils.ts    # ë‚ ì§œ ì²˜ë¦¬ ìœ í‹¸
â”‚  â”‚  â”œâ”€ string-utils.ts  # ë¬¸ìì—´ ì²˜ë¦¬ ìœ í‹¸
â”‚  â”‚  â”œâ”€ chunk-processor.ts  # ì²­í¬ ë‹¨ìœ„ ì²˜ë¦¬
â”‚  â”‚  â””â”€ performance-monitor.ts  # ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
â”‚  â””â”€ config/             # ì„¤ì •
â”‚
â”œâ”€ data/                   # ë¡œì»¬ JSON ë°ì´í„°
â”‚  â”œâ”€ trademarks_kr_sample.json
â”‚  â”œâ”€ trademarks_kr_trademarks.json
â”‚  â”œâ”€ trademarks_us_sample.json
â”‚  â””â”€ trademarks_us_trademarks.json
â”‚
â””â”€ styles/                 # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
```

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ê²€ìƒ‰ ê¸°ëŠ¥
- **ë‹¤êµ­ì–´ ê²€ìƒ‰ ì§€ì›**: í•œêµ­ì–´/ì˜ì–´ ê²€ìƒ‰ì–´ ì²˜ë¦¬
- **ë¶€ë¶„ ì¼ì¹˜ ê²€ìƒ‰**: "ì†”" ì…ë ¥ ì‹œ "ì†”í–¥ê¸°" ê²€ìƒ‰ ê°€ëŠ¥
- **ê²€ìƒ‰ì–´ ì •ì œ**: íŠ¹ìˆ˜ë¬¸ì, ìš•ì„¤ í•„í„°ë§
- **ê²€ìƒ‰ì–´ ì •ê·œí™”**: ë„ì–´ì“°ê¸°, ëŒ€ì†Œë¬¸ì ë¬´ì‹œ
- **ì‹¤ì‹œê°„ ê²€ì¦**: ì…ë ¥ ê¸¸ì´, ë°˜ë³µ ë¬¸ì ê²€ì¦
- **Debouncing**: ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì…ë ¥ ì§€ì—° ì²˜ë¦¬

### ğŸ¯ í•„í„°ë§
- **í‚¤ì›Œë“œ í•„í„°**: ìƒí’ˆëª…/ì˜ë¬¸ëª… ê²€ìƒ‰
- **ì¶œì›ë²ˆí˜¸ í•„í„°**: ì •í™• ì¼ì¹˜ ê²€ìƒ‰
- **ìƒíƒœ í•„í„°**: ë“±ë¡ ìƒíƒœë³„ í•„í„°ë§
- **ë‚ ì§œ ë²”ìœ„ í•„í„°**: ì¶œì›ì¼ ê¸°ì¤€ í•„í„°ë§
- **ìë™/ìˆ˜ë™ ì ìš©**: í•„í„° ìë™ ì ìš© ì˜µì…˜

### ğŸ“Š ì •ë ¬
- ì¶œì›ì¼, ë“±ë¡ì¼, ìƒí’ˆëª… ë“± ë‹¤ì–‘í•œ ê¸°ì¤€ ì •ë ¬

### â­ ì¦ê²¨ì°¾ê¸°
- Zustand + localStorageë¥¼ í†µí•œ ì˜êµ¬ ì €ì¥

### ğŸš€ ì„±ëŠ¥ ìµœì í™”
- **ë°ì´í„° ì „ì²˜ë¦¬**: ê²€ìƒ‰ ì¸ë±ìŠ¤ ì‚¬ì „ ìƒì„±
- **ì¸ë±ìŠ¤ ê¸°ë°˜ ê²€ìƒ‰**: ëŒ€ëŸ‰ ë°ì´í„° ë¹ ë¥¸ ê²€ìƒ‰
- **ì²­í¬ ë‹¨ìœ„ ì²˜ë¦¬**: ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ë°©ì§€
- **ì •ê·œí™” ìºì‹±**: LRU ìºì‹œë¥¼ í†µí•œ ì¤‘ë³µ ê³„ì‚° ë°©ì§€
- **í•„í„°ë§ íŒŒì´í”„ë¼ì¸ ìµœì í™”**: ë¹ ë¥¸ í•„í„° ìš°ì„  ì ìš©

## ğŸ”§ ì£¼ìš” ë™ì‘ íë¦„

### ë°ì´í„° ë¡œë“œ
1. `shared/api/fetchKRTrademarks.ts` / `fetchUSTrademarks.ts`ê°€ JSON íŒŒì¼ ë¡œë“œ
2. `entities/trademark/lib/parseKR.ts` / `parseUS.ts`ë¡œ êµ­ê°€ë³„ ìŠ¤í‚¤ë§ˆ ì •ê·œí™”
3. `entities/trademark/lib/preprocessing.ts`ë¡œ ê²€ìƒ‰ ìµœì í™” ì „ì²˜ë¦¬
4. `NormalizedTrademark` â†’ `PreprocessedTrademark` ë³€í™˜

### ê²€ìƒ‰/í•„í„°ë§
1. ì‚¬ìš©ì ì…ë ¥ â†’ `features/search/lib/sanitizers`ë¡œ ì •ì œ
2. `features/search/lib/normalizers`ë¡œ ì •ê·œí™”
3. `entities/trademark/lib/matchers`ë¡œ ë§¤ì¹­
4. `entities/trademark/lib/filters.ts`ë¡œ í•„í„°ë§
5. ëŒ€ëŸ‰ ë°ì´í„°(1000ê°œ ì´ìƒ)ëŠ” `optimized-filters.ts` ì‚¬ìš©

### ìƒíƒœ ê´€ë¦¬
- **ì„œë²„ ìƒíƒœ**: TanStack Query (`useTrademarksQuery`)
- **í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ**: Zustand (ê²€ìƒ‰ í•„í„°, ì¦ê²¨ì°¾ê¸°, ì •ë ¬)

## ğŸ“š ëª¨ë“ˆ êµ¬ì¡°

### ê²€ìƒ‰ ê¸°ëŠ¥ ëª¨ë“ˆ (`features/search/lib`)
- **sanitizers**: ê²€ìƒ‰ì–´ ì •ì œ (íŠ¹ìˆ˜ë¬¸ì, ìš•ì„¤ ì œê±°)
- **normalizers**: ê²€ìƒ‰ì–´ ì •ê·œí™” (ë„ì–´ì“°ê¸°, ëŒ€ì†Œë¬¸ì)
- **matchers**: ê²€ìƒ‰ì–´ ë§¤ì¹­ (ë¶€ë¶„ ì¼ì¹˜ ì§€ì›)
- **validators**: ê²€ìƒ‰ì–´ ê²€ì¦ (ê¸¸ì´, ë°˜ë³µ ë¬¸ì)
- **profanity**: ìš•ì„¤ í•„í„°ë§
- **errors**: êµ¬ì¡°í™”ëœ ì—ëŸ¬ ì²˜ë¦¬
- **cache**: ì •ê·œí™” ê²°ê³¼ ìºì‹±

### ìƒí‘œ í•„í„°ë§ ëª¨ë“ˆ (`entities/trademark/lib`)
- **matchers**: ë§¤ì¹­ ë¡œì§ (í‚¤ì›Œë“œ, ì¶œì›ë²ˆí˜¸, ìƒíƒœ, ë‚ ì§œ)
- **filters**: ê¸°ë³¸ í•„í„°ë§ í•¨ìˆ˜
- **optimized-filters**: ëŒ€ëŸ‰ ë°ì´í„° ìµœì í™” í•„í„°ë§
- **preprocessing**: ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒ ì „ì²˜ë¦¬
- **indexing**: ì¸ë±ìŠ¤ ê¸°ë°˜ ë¹ ë¥¸ ê²€ìƒ‰

### ê³µí†µ ìœ í‹¸ë¦¬í‹° (`shared/utils`)
- **error-handler**: ì•ˆì „í•œ ì—ëŸ¬ ì²˜ë¦¬ ë˜í¼
- **date-utils**: ë‚ ì§œ íŒŒì‹± ë° ë²”ìœ„ ì²´í¬
- **string-utils**: ì•ˆì „í•œ ë¬¸ìì—´ ì²˜ë¦¬
- **chunk-processor**: ì²­í¬ ë‹¨ìœ„ ë°ì´í„° ì²˜ë¦¬
- **performance-monitor**: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

## ğŸ“– ë¬¸ì„œ

- [`ESM_MIGRATION.md`](./ESM_MIGRATION.md): ESM ëª¨ë“ˆ ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ
- [`src/entities/trademark/lib/README.md`](./src/entities/trademark/lib/README.md): ìƒí‘œ ì—”í‹°í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ
- [`src/features/search/lib/README.md`](./src/features/search/lib/README.md): ê²€ìƒ‰ ê¸°ëŠ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ

## ğŸ“ ë°ì´í„°ì…‹ ì•ˆë‚´

- **ìƒ˜í”Œ ë°ì´í„°**: `trademarks_kr_sample.json`, `trademarks_us_sample.json`
  - ê°€ë²¼ìš´ ëª© ë°ì´í„° (ë¹ˆ ë°°ì—´ ê¸°ë³¸)
  - ëŒ€ìš©ëŸ‰ ì—†ì´ë„ UI í™•ì¸ ê°€ëŠ¥
- **ì „ì²´ ë°ì´í„°**: `trademarks_kr_trademarks.json`, `trademarks_us_trademarks.json`
  - ì‹¤ì œ ì˜ˆì‹œ ëŒ€ìš©ëŸ‰ JSON
  - í•„ìš” ì‹œ ìƒ˜í”Œ íŒŒì¼ì— ì†ŒëŸ‰ ë ˆì½”ë“œ ì¶”ê°€ ê°€ëŠ¥

## ğŸ›ï¸ ì•„í‚¤í…ì²˜ ì›ì¹™

### ëª¨ë“ˆí™”
- ê¸°ëŠ¥ë³„ ë…ë¦½ ëª¨ë“ˆ ë¶„ë¦¬
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ
- ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬

### íƒ€ì… ì•ˆì •ì„±
- TypeScript strict ëª¨ë“œ
- Zodë¥¼ í†µí•œ ëŸ°íƒ€ì„ ê²€ì¦
- íƒ€ì… ê°€ë“œ í™œìš©

### ì„±ëŠ¥ ìµœì í™”
- ë°ì´í„° ì „ì²˜ë¦¬ ë° ì¸ë±ì‹±
- ìºì‹± ì „ëµ
- ì²­í¬ ë‹¨ìœ„ ì²˜ë¦¬
- í•„í„°ë§ íŒŒì´í”„ë¼ì¸ ìµœì í™”

### ì—ëŸ¬ ì²˜ë¦¬
- êµ¬ì¡°í™”ëœ ì—ëŸ¬ íƒ€ì…
- ì•ˆì „í•œ í´ë°± ë©”ì»¤ë‹ˆì¦˜
- ìƒì„¸í•œ ì—ëŸ¬ ë¡œê¹…

### í™•ì¥ì„±
- ìƒˆë¡œìš´ êµ­ê°€ ì¶”ê°€ ìš©ì´
- ìƒˆë¡œìš´ í•„í„° ì¶”ê°€ ìš©ì´
- í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ ëª¨ë“ˆ êµ¬ì¡°

## ğŸ”¨ í™•ì¥ ê°€ì´ë“œ

### ìƒˆë¡œìš´ êµ­ê°€ ì¶”ê°€
1. `entities/trademark/model/countryTypes.ts`ì— íƒ€ì… ì •ì˜
2. `entities/trademark/lib/parse{Country}.ts` íŒŒì„œ ì¶”ê°€
3. `entities/trademark/lib/normalize.ts`ì— êµ­ê°€ ì¶”ê°€
4. `shared/api/fetch{Country}Trademarks.ts` API í´ë¼ì´ì–¸íŠ¸ ì¶”ê°€
5. `features/country-switcher`ì— êµ­ê°€ ì˜µì…˜ ì¶”ê°€

### ìƒˆë¡œìš´ í•„í„° ì¶”ê°€
1. `entities/trademark/model/types.ts`ì˜ `TrademarkFilters` í™•ì¥
2. `entities/trademark/lib/matchers/`ì— ë§¤ì¹­ ë¡œì§ ì¶”ê°€
3. `entities/trademark/lib/filters.ts`ì— í•„í„° í•¨ìˆ˜ ì¶”ê°€
4. `features/search/model/store.ts`ì— ìƒíƒœ ì¶”ê°€
5. `features/search/ui/`ì— UI ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

### ìƒˆë¡œìš´ ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€
1. `features/search/lib/`ì— í•´ë‹¹ ëª¨ë“ˆ ì¶”ê°€
2. `features/search/lib/index.ts`ì— export ì¶”ê°€
3. í•„ìš” ì‹œ `sanitizeKeyword.ts`ì— ë ˆê±°ì‹œ API ì¶”ê°€

## âš™ï¸ ì„¤ì •

### ESM ëª¨ë“ˆ ì‹œìŠ¤í…œ
í”„ë¡œì íŠ¸ëŠ” ì™„ì „í•œ ESM ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:
- `package.json`ì— `"type": "module"` ì„¤ì •
- ëª¨ë“  íŒŒì¼ì´ `import`/`export` ë¬¸ë²• ì‚¬ìš©
- ìµœì‹  `import with { type: 'json' }` êµ¬ë¬¸ ì‚¬ìš©

### TypeScript ì„¤ì •
- `module: "ESNext"`: ESM ëª¨ë“ˆ ì‹œìŠ¤í…œ
- `moduleResolution: "Bundler"`: ë²ˆë“¤ëŸ¬ í•´ìƒë„
- `target: "ESNext"`: ìµœì‹  ECMAScript íƒ€ê²Ÿ

### ë¦°íŠ¸ ê·œì¹™
- ì„¸ë¯¸ì½œë¡  ë¯¸ì‚¬ìš©
- ë©€í‹°ë¼ì¸ trailing comma
- íƒ€ì… ì„í¬íŠ¸ ì¼ê´€ì„±

## âš ï¸ ìœ ì˜ ì‚¬í•­

- **Turbopack**: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ë¥¼ ì¶”ë¡ í•©ë‹ˆë‹¤. ìƒìœ„ ê²½ë¡œì— ë‹¤ë¥¸ lockfileì´ ìˆë‹¤ë©´ ê²½ê³ ê°€ ì¶œë ¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìš” ì‹œ ì œê±°í•˜ê±°ë‚˜ `next.config.js`ì˜ `turbopack.root`ë¡œ ê³ ì •í•˜ì„¸ìš”.
- **ëŒ€ëŸ‰ ë°ì´í„°**: 1000ê°œ ì´ìƒì˜ ë°ì´í„°ëŠ” ìë™ìœ¼ë¡œ ìµœì í™”ëœ í•„í„°ë§ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ë¸Œë¼ìš°ì € í˜¸í™˜ì„±**: ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œ ESMì„ ì™„ì „íˆ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT
